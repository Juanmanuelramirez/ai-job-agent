# Versión del esquema del archivo de configuración de App Runner
version: 1.0

# Define el entorno de ejecución que App Runner debe usar.
# Esto asegura que el contenedor de construcción tenga Python y pip preinstalados.
runtime: python3.11

# Comandos que se ejecutarán para construir la aplicación
build:
  commands:
    # Comando para instalar las dependencias
    build:
      - pip install -r requirements.txt

# Comando para iniciar la aplicación y el puerto que expondrá
run:
  # Inicia Streamlit en el puerto 8080 y en modo headless, crucial para contenedores
  command: streamlit run main.py --server.port 8080 --server.headless true
  port: 8080

# Comprobación de estado para que App Runner sepa si la app está saludable
healthcheck:
  path: /_stcore/health
  interval: 10
  timeout: 5
